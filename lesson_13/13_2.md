# План занятия: Функции в JavaScript

**Продолжительность:** 3 часа (2 части)

---

## ЧАСТЬ 1 (1.5 часа) - ОСНОВЫ ФУНКЦИЙ

### 1. Введение в функции (15 мин)

#### Что такое функция

- Блок кода, который можно вызывать многократно
- Инкапсуляция логики - "черный ящик"
- Принцип DRY (Don't Repeat Yourself)
- **Ключевые термины:** функция, вызов, параметры, аргументы, возврат значения

#### Зачем нужны функции

- Избежать дублирования кода
- Разбить программу на логические части
- Повторное использование кода
- Упрощение отладки и тестирования

### 2. Function Declaration (Объявление функции) (25 мин)

#### Синтаксис

- `function functionName(parameters) { body }`
- **Ключевое слово:** `function`
- **Имя функции:** должно быть валидным идентификатором
- **Параметры:** в круглых скобках `(param1, param2)`
- **Тело функции:** в фигурных скобках `{}`

#### Способы объявления

- Простая функция: `function sayHello() { console.log("Hello"); }`
- С параметрами: `function greet(name) { console.log("Hello, " + name); }`
- С несколькими параметрами: `function add(a, b) { return a + b; }`
- С return: `function multiply(x, y) { return x * y; }`
- Без return: `function logMessage(msg) { console.log(msg); }` (возвращает `undefined`)

#### Особенности Function Declaration

- **Hoisting** - можно вызывать до объявления: `sayHello(); function sayHello() {}`
- Поднимается целиком, не только объявление
- Создается во время компиляции
- Доступна во всей области видимости

#### Примеры

- Функция приветствия
- Калькулятор (сложение, вычитание)
- Проверка четного числа
- Генератор случайных чисел

### 3. Function Expression (Функциональное выражение) (25 мин)

#### Синтаксис

- `const functionName = function(parameters) { body };`
- `let functionName = function(parameters) { body };`
- Функция как значение переменной
- **Обязательна** точка с запятой после `}`

#### Способы написания

- Именованное выражение: `const add = function add(a, b) { return a + b; };`
- Анонимное выражение: `const add = function(a, b) { return a + b; };`
- С let: `let calculator = function(operation, a, b) { };`

#### Особенности Function Expression

- **НЕТ hoisting** - нельзя вызывать до объявления
- Создается во время выполнения
- Temporal Dead Zone для `let`/`const`
- `console.log(add); const add = function() {};` - `ReferenceError`

#### Отличия от Function Declaration

- Hoisting поведение
- Время создания (компиляция vs выполнение)
- Можно присваивать условно: `if (condition) { const fn = function() {}; }`

### 4. Arrow Functions (Стрелочные функции) (25 мин)

#### Синтаксис ES6

- `const functionName = (parameters) => { body }`
- `const functionName = parameter => expression`
- `const functionName = () => expression`

#### Способы написания стрелочных функций

- Полная форма: `const add = (a, b) => { return a + b; };`
- Краткая форма: `const add = (a, b) => a + b;`
- Один параметр: `const double = x => x * 2;`
- Без параметров: `const random = () => Math.random();`
- Возврат объекта: `const createUser = name => ({ name: name, id: 1 });`

#### Особенности Arrow Functions

- **НЕТ hoisting** - как Function Expression
- Всегда анонимные
- Краткий синтаксис
- **НЕТ собственного `this`** (наследует от родительской области)
- **НЕТ `arguments`** объекта

#### Когда использовать

- Короткие функции
- Callback функции
- Функциональное программирование (`map`, `filter`, `reduce`)
- Когда не нужен собственный `this`

---

## ЧАСТЬ 2 (1.5 часа) - ПАРАМЕТРЫ И ОБЛАСТЬ ВИДИМОСТИ

### 5. Параметры и аргументы (30 мин)

#### Основные концепции

- **Параметры** - переменные в объявлении функции
- **Аргументы** - значения при вызове функции
- `function greet(name) {}` - `name` это параметр
- `greet("John")` - `"John"` это аргумент

#### Типы параметров

- Обычные параметры: `function add(a, b) {}`
- Параметры по умолчанию: `function greet(name = "Guest") {}`
- Rest параметры: `function sum(...numbers) {}`

#### Параметры по умолчанию (ES6)

- `function greet(name = "World") { return "Hello, " + name; }`
- `function multiply(a, b = 1) { return a * b; }`
- Вычисляются каждый раз при вызове
- Могут использовать предыдущие параметры: `function fn(a, b = a * 2) {}`

#### Rest параметры (...args)

- `function sum(...numbers) { }` - `numbers` это массив
- Должен быть последним параметром
- `function logAll(first, ...rest) {}`
- Работает как массив: `numbers.length`, `numbers[0]`

#### Аргументы функции

- Можно передать больше аргументов чем параметров
- Можно передать меньше аргументов (будут `undefined`)
- `function add(a, b) {} add(1, 2, 3, 4)` - лишние игнорируются

#### Примеры

- Функция с параметрами по умолчанию
- Функция суммирования любого количества чисел
- Функция форматирования строк

### 6. Return и результат функции (20 мин)

#### Ключевое слово return

- `return value;` - возвращает значение и завершает функцию
- `return;` - возвращает `undefined` и завершает функцию
- Без `return` - функция возвращает `undefined`

#### Особенности return

- Код после `return` не выполняется
- Можно иметь несколько `return` в функции
- `return` в условиях: `if (condition) return value;`
- **Автоматическая вставка точек с запятой:** осторожно с переносами строк

#### Типы возвращаемых значений

- Примитивы: `return 42;`, `return "hello";`, `return true;`
- Объекты: `return { name: "John", age: 30 };`
- Массивы: `return [1, 2, 3];`
- Функции: `return function() { console.log("nested"); };`

#### Примеры

- Функция проверки четного числа
- Функция поиска максимума
- Функция-фабрика объектов

### 7. Область видимости функций (40 мин)

#### Function Scope (область видимости функции)

- Параметры функции видны только внутри функции
- Переменные, объявленные в функции, видны только внутри
- `function test(x) { let y = 5; }` - `x` и `y` недоступны снаружи

#### Локальные vs глобальные переменные

- **Локальные:** объявлены внутри функции
- **Глобальные:** объявлены вне всех функций
- Локальные "затеняют" глобальные с тем же именем

#### Замыкания (Closures) - базовое понимание

- Функция "запоминает" переменные из внешней области
- Внутренняя функция имеет доступ к переменным внешней функции
- `function outer() { let x = 1; return function() { return x; }; }`

#### Способы объявления переменных в функциях

- `let`/`const` внутри функции - локальные переменные
- Параметры функции - локальные переменные
- Без объявления (плохая практика) - создает глобальную переменную

#### Hoisting в функциях

- Function Declaration поднимается полностью
- `let`/`const` в функции имеют Temporal Dead Zone
- Параметры функции доступны с начала выполнения функции

#### Примеры области видимости

- Функция с локальными переменными
- Конфликт имен локальной и глобальной переменных
- Простое замыкание с счетчиком
- Функция, возвращающая функцию

---

## КЛЮЧЕВЫЕ СЛОВА И ТЕХНОЛОГИИ

### Ключевые слова

- `function` - объявление функции
- `return` - возврат значения
- `=>` - стрелочная функция
- `...` - rest параметры

### Концепции

- function declaration, function expression, arrow function
- parameters, arguments, default parameters, rest parameters
- hoisting, temporal dead zone
- function scope, closures
- return statement, undefined return

### Синтаксические конструкции

- `function name() {}`
- `const name = function() {};`
- `const name = () => {};`
- `function name(param = default) {}`
- `function name(...args) {}`
- `return value;`

### Методы вызова

- `functionName()`
- `functionName(arg1, arg2)`
- Немедленный вызов: `(function() {})();`

---

## ПРАКТИЧЕСКИЕ ПРИМЕРЫ (описания)

### Примеры Function Declaration

- Калькулятор с четырьмя операциями
- Функция проверки возраста для доступа
- Генератор приветствий на разных языках

### Примеры Function Expression

- Условное создание функции
- Передача функции как аргумента
- Сохранение функции в массиве

### Примеры Arrow Functions

- Обработка массива чисел (удвоение)
- Фильтрация массива строк
- Сортировка объектов

### Примеры с параметрами

- Функция создания HTML элементов
- Функция логирования с уровнями
- Функция форматирования даты

### Примеры области видимости

- Счетчик с замыканием
- Модуль с приватными методами
- Фабрика функций
