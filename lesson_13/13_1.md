# План занятия 3: Циклы (for, while, do while). Область видимости

**Продолжительность:** 3 часа (2 части)

---

## ЧАСТЬ 1 (1.5 часа) - ЦИКЛЫ

### 1. Введение в циклы (15 мин)

- Что такое цикл - повторение одного и того же кода
- Зачем нужны циклы - избежать дублирования
- **Ключевые термины:** цикл, итерация, счетчик, условие выхода
- **Опасность:** бесконечный цикл - когда условие никогда не станет false

### 2. Цикл for (30 мин)

#### Основной синтаксис

- `for (инициализация; условие; изменение)` - три обязательные части
- **Инициализация** выполняется один раз в начале
- **Условие** проверяется перед каждой итерацией
- **Изменение** выполняется после каждой итерации
- Тело цикла в фигурных скобках `{}`

#### Способы написания for

- Классический: `for (let i = 0; i < 10; i++)`
- С шагом: `for (let i = 0; i < 20; i += 2)`
- Обратный: `for (let i = 10; i > 0; i--)`
- Без инициализации: `for (; i < 10; i++)` (переменная объявлена выше)
- Без изменения: `for (let i = 0; i < 10;)` (изменение внутри тела)
- Пустой цикл: `for (;;)` - бесконечный цикл
- Отличия `for let` и `for of`


#### Операторы инкремента/декремента

- **Постфиксный инкремент:** `i++` - сначала использует, потом увеличивает
- **Префиксный инкремент:** `++i` - сначала увеличивает, потом использует
- **Постфиксный декремент:** `i--`
- **Префиксный декремент:** `--i`
- **Составные операторы:** `+=`, `-=`, `*=`, `/=`, `%=`

#### Примеры

- Вывод чисел от 1 до 10
- Сумма чисел от 1 до 100
- Таблица умножения
- Обратный отсчет
- Четные числа от 2 до 20

### 3. Цикл while (25 мин)

#### Синтаксис и логика

- `while (условие)` - проверка ДО выполнения тела
- Может не выполниться ни разу, если условие сразу `false`
- **Обязательно** изменять переменную внутри цикла, иначе бесконечный цикл
- Часто используется когда неизвестно точное количество итераций

#### Структура

- Инициализация переменной ДО цикла
- Условие в круглых скобках
- Изменение переменной ВНУТРИ тела цикла
- Тело в фигурных скобках `{}`

#### Способы написания while

- Классический: `while (i < 10)` с изменением `i++` внутри
- С составным условием: `while (i < 10 && found === false)`
- С логическим флагом: `while (isRunning)`
- С функцией в условии: `while (getNextValue() !== null)`

#### Типичные применения

- Ввод данных до получения правильного значения
- Чтение файла до конца
- Игровые циклы
- Поиск элемента в массиве

#### Примеры

- Подсчет степеней двойки меньше 1000
- Угадывание числа с ограниченными попытками
- Факториал числа

### 4. Цикл do...while (20 мин)

#### Синтаксис и особенности

- `do { тело } while (условие);` - **ОБЯЗАТЕЛЬНА** точка с запятой после `while`
- Проверка условия ПОСЛЕ выполнения тела
- Выполняется минимум один раз, даже если условие `false`
- Используется когда нужно что-то сделать хотя бы раз

#### Способы написания do-while

- Классический: `do { операции; i++; } while (i < 10);`
- С валидацией: `do { input = prompt(); } while (input === null);`
- С меню: `do { showMenu(); choice = getChoice(); } while (choice !== 'exit');`

#### Отличия от while

- `while` может не выполниться вообще
- `do-while` всегда выполнится минимум 1 раз
- Проверка условия в разных местах

#### Типичные применения

- Меню программы (показать хотя бы раз)
- Валидация ввода пользователя
- "Играть еще раз?" в играх
- Процессы, которые должны запуститься хотя бы раз

#### Примеры

- Меню с выбором опций
- Игра "угадай число" с вопросом о повторе
- Ввод пароля с проверкой

---

## ЧАСТЬ 2 (1.5 часа) - ОБЛАСТЬ ВИДИМОСТИ

### 5. Основы области видимости (20 мин)

#### Что такое scope (область видимости)

- Где в коде можно использовать переменную
- **Global scope** - доступна везде в программе
- **Local scope** - доступна только в определенном блоке
- **Block scope** - ограничена фигурными скобками `{}`
- **Function scope** - ограничена функцией

#### Как JavaScript ищет переменные

- Сначала в текущей области
- Потом в родительской области
- Потом в глобальной области
- Если не найдет - `ReferenceError`

#### Hoisting (поднятие)

- JavaScript "поднимает" объявления переменных наверх
- Но не поднимает инициализацию
- Разное поведение для `var`, `let`, `const`

### 6. Ключевые слова объявления переменных (40 мин)

#### var (15 мин)

**Особенности var:**

- **Function scope** - видна во всей функции
- **Hoisting** - поднимается наверх со значением `undefined`
- Можно переобъявлять в той же области: `var x = 1; var x = 2;`
- Можно использовать до объявления (будет `undefined`)
- Игнорирует блоки `{}` (кроме функций)

**var в циклах:**

- Создается одна переменная для всего цикла
- После цикла переменная остается доступной
- Проблемы с замыканиями - все функции ссылаются на одну переменную
- `for (var i = 0; i < 5; i++)` - после цикла `i` равно 5

**Примеры поведения:**

- Использование до объявления: `console.log(x); var x = 5;` (выведет `undefined`)
- Переобъявление в том же блоке: `var name = "John"; var name = "Jane";`
- Доступность после блока: `if (true) { var temp = 42; } console.log(temp);`

#### let (15 мин)

**Особенности let:**

- **Block scope** - видна только в своем блоке `{}`
- **Temporal Dead Zone** - нельзя использовать до объявления
- Нельзя переобъявлять в той же области
- Hoisting есть, но переменная недоступна до объявления

**let в циклах:**

- Новая переменная создается на каждой итерации
- После цикла переменная недоступна
- Решает проблемы с замыканиями

**Temporal Dead Zone:**

- Зона между началом блока и объявлением переменной
- Обращение к переменной дает R
